<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>バラシュナ暗記法</title>

  <!-- PWA -->
<!-- head 内 -->
<link rel="manifest" href="./manifest.webmanifest">
<meta name="theme-color" content="#1f1335">

<!-- iOS（A2HS対策） -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="./icons/icon-192.png">
<meta name="apple-mobile-web-app-title" content="バラシュナ暗記">
<link rel="apple-touch-icon" href="./icons/icon-180.png" sizes="180x180">
<meta name="mobile-web-app-capable" content="yes">
<div class="sr" role="status" aria-live="polite" id="live"></div>
 

<!-- あなたのCSS -->
  <link rel="stylesheet" href="./style.css">
</head>
<body>

  <div class="baras-wrap" id="baras">
    <header class="baras-head">
      <div class="head-left">
        <h1 class="app-title">バラシュナ暗記：1問1答</h1>
        <div class="meta">
          <span id="meta-q">Q:1/20</span>
          <span id="meta-acc">正答率:0%</span>
          <span id="meta-streak">連続:0 (Best:0)</span>
        </div>
      </div>
      <div class="head-right">
        <label class="toggle"><input type="checkbox" id="opt-hard"> 不正解優先</label>
      </div>
    </header>

    <div class="progress"><div class="bar" id="progress-bar"></div></div>

    <main class="card">
      <h2 class="question" id="qtext">問題テキスト</h2>
      <div class="choices" id="choices"></div>
      <button class="next" id="nextBtn" disabled>つぎの問題へ</button>
      <div class="sr" aria-live="polite" id="live"></div>
    </main>
  </div>

  <!-- 背景の神域エフェクト（不要なら削除OK） -->
  <div class="baras-bg" aria-hidden="true">
    <div class="aura"></div>
    <div class="grain"></div>
  </div>

  <!-- SWは baras-app/ 配下だけをスコープに -->
  <script>
    if ('serviceWorker' in navigator) {
      const isSecure = location.protocol === 'https:' || location.hostname === 'localhost' || location.hostname === '127.0.0.1';
      if (isSecure) navigator.serviceWorker.register('./sw.js', { scope: './' });
    }
  </script>
  <script src="./app.js"></script>
</body>
</html>
